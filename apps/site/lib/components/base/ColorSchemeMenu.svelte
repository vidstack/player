<script lang="ts">
  import { colorScheme, isDarkColorScheme } from '$lib/stores/color-scheme';
  import { isKeyboardClick } from '$lib/utils/keyboard';

  function onPointerUp() {
    $colorScheme = !$isDarkColorScheme ? 'dark' : 'light';
  }
</script>

<button
  class="min-w-[40px] min-h-[40px] flex items-center justify-center p-2 transform-gpu rounded-md border-0 transition-transform hover:scale-[1.1]"
  on:pointerup={onPointerUp}
  on:keydown={(e) => {
    if (isKeyboardClick(e)) onPointerUp();
  }}
>
  <span class="sr-only">Color Scheme</span>
  {#if !$isDarkColorScheme}
    <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M13.4167 6.41667C13.0946 6.41667 12.8334 6.1555 12.8334 5.83333V4.08333C12.8334 3.76117 13.0946 3.5 13.4167 3.5H14.5834C14.9056 3.5 15.1667 3.76117 15.1667 4.08333V5.83333C15.1667 6.1555 14.9056 6.41667 14.5834 6.41667H13.4167Z"
        fill="#111827"
      />
      <path
        d="M13.4167 24.5C13.0946 24.5 12.8334 24.2388 12.8334 23.9167V22.1667C12.8334 21.8445 13.0946 21.5833 13.4167 21.5833H14.5834C14.9056 21.5833 15.1667 21.8445 15.1667 22.1667V23.9167C15.1667 24.2388 14.9056 24.5 14.5834 24.5H13.4167Z"
        fill="#111827"
      />
      <path
        d="M7.51084 19.0937C7.78984 18.9326 7.88544 18.5759 7.72436 18.2969L7.14102 17.2865C6.97994 17.0075 6.62318 16.9119 6.34417 17.073L4.82863 17.948C4.54963 18.1091 4.45403 18.4658 4.61511 18.7448L5.19845 19.7552C5.35953 20.0342 5.71629 20.1298 5.9953 19.9687L7.51084 19.0937Z"
        fill="#111827"
      />
      <path
        d="M23.385 9.25519C23.5461 9.53419 23.4505 9.89095 23.1715 10.052L21.6559 10.927C21.3769 11.0881 21.0202 10.9925 20.8591 10.7135L20.2757 9.70316C20.1147 9.42415 20.2103 9.06739 20.4893 8.90631L22.0048 8.03131C22.2838 7.87023 22.6406 7.96582 22.8016 8.24482L23.385 9.25519Z"
        fill="#111827"
      />
      <path
        d="M6.34419 10.927C6.6232 11.0881 6.97996 10.9925 7.14104 10.7135L7.72437 9.70315C7.88546 9.42415 7.78986 9.06739 7.51086 8.90631L5.99531 8.03131C5.71631 7.87022 5.35955 7.96582 5.19847 8.24482L4.61513 9.25518C4.45405 9.53419 4.54964 9.89095 4.82865 10.052L6.34419 10.927Z"
        fill="#111827"
      />
      <path
        d="M22.8017 19.7552C22.6406 20.0342 22.2838 20.1298 22.0048 19.9687L20.4893 19.0937C20.2103 18.9326 20.1147 18.5759 20.2758 18.2969L20.8591 17.2865C21.0202 17.0075 21.3769 16.9119 21.6559 17.073L23.1715 17.948C23.4505 18.1091 23.5461 18.4658 23.385 18.7448L22.8017 19.7552Z"
        fill="#111827"
      />
      <path
        d="M14.0001 8.75C11.1006 8.75 8.75006 11.1005 8.75006 14C8.75006 16.8995 11.1006 19.25 14.0001 19.25C16.8995 19.25 19.2501 16.8995 19.2501 14C19.2501 11.1005 16.8995 8.75 14.0001 8.75Z"
        fill="#111827"
      />
    </svg>
  {:else}
    <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M9.95688 7.05732C6.19935 9.68837 5.28615 14.8673 7.9172 18.6249C10.5483 22.3824 15.7272 23.2956 19.4848 20.6645C20.2817 20.1065 20.9507 19.4338 21.4851 18.6844C21.7835 18.266 21.3711 17.7384 20.8598 17.7907C18.1682 18.0665 15.411 16.9153 13.7489 14.5415C12.0867 12.1677 11.9479 9.18307 13.1277 6.74811C13.3518 6.28558 12.997 5.71757 12.5017 5.85484C11.6148 6.10068 10.7538 6.49928 9.95688 7.05732Z"
        fill="#F9FAFB"
      />
    </svg>
  {/if}
</button>
