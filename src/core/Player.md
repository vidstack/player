# vds-player

The player sits at the top of the component hierarchy in the library. It encapsulates
Provider/UI components and acts as a message bus between them. It also provides a seamless
experience for interacting with any media provider through the properties/methods/events it
exposes.

<!-- AUTO GENERATED BELOW -->

## Examples

```html
<vds-player>
  <!-- Providers here. -->
  <vds-ui>
    <!-- UI components here. -->
  </vds-ui>
</vds-player>
```

```html
<vds-player>
  <vds-youtube src="_MyD_e1jJWc"></vds-youtube>
  <vds-ui>
    <!-- UI components here. -->
  </vds-ui>
</vds-player>
```

## Properties

| Property                          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Type                                 | Default     |
| --------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------ | ----------- |
| `styles` _(readonly)_             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `CSSResultArray`                     | `undefined` |
| `currentProvider` _(readonly)_    | The current media provider who has connected to the player and is responsible for loading media.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `MediaProvider<unknown> ∣ undefined` | `undefined` |
| `internalPlayer` _(readonly)_     | The underlying player that is actually responsible for rendering/loading media.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `unknown`                            | `undefined` |
| `allowUserEventsToBubble`         | Allows user events to bubble up through the player.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `boolean`                            | `false`     |
| `allowProviderEventsToBubble`     | Allows provider events to bubble up through the player.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `boolean`                            | `false`     |
| `volume`                          | An `int` between `0` (silent) and `1` (loudest) indicating the audio volume. Defaults to `1`. An `int` between `0` (silent) and `1` (loudest) indicating the audio volume. Defaults to `1`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | `number`                             | `undefined` |
| `currentTime`                     | A `double` indicating the current playback time in seconds. Defaults to `0` if the media has not started to play and has not seeked. Setting this value seeks the media to the new time. The value can be set to a minimum of `0` and maximum of the total length of the media (indicated by the duration prop). A `double` indicating the current playback time in seconds. Defaults to `0` if the media has not started to play and has not seeked. Setting this value seeks the media to the new time. The value can be set to a minimum of `0` and maximum of the total length of the media (indicated by the duration prop).                               | `number`                             | `undefined` |
| `paused`                          | Whether playback should be paused. Defaults to `true` if no media has loaded or playback has not started. Setting this to `true` will begin/resume playback. Whether playback should be paused. Defaults to `true` if no media has loaded or playback has not started. Setting this to `true` will begin/resume playback.                                                                                                                                                                                                                                                                                                                                       | `boolean`                            | `undefined` |
| `controls`                        | Indicates whether a user interface should be shown for controlling the resource. Set this to `false` when you want to provide your own custom controls, and `true` if you want the current provider to supply its own default controls. Depending on the provider, changing this prop may cause the player to completely reset. Indicates whether a user interface should be shown for controlling the resource. Set this to `false` when you want to provide your own custom controls, and `true` if you want the current provider to supply its own default controls. Depending on the provider, changing this prop may cause the player to completely reset. | `boolean`                            | `undefined` |
| `muted`                           | Whether the audio is muted or not. Whether the audio is muted or not.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `boolean`                            | `undefined` |
| `currentSrc` _(readonly)_         | The absolute URL of the media resource that has been chosen. Defaults to `''` if no media has been loaded.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `string`                             | `undefined` |
| `currentPoster` _(readonly)_      | The URL of the current poster. Defaults to `''` if no media/poster has been given or loaded.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `string`                             | `undefined` |
| `duration` _(readonly)_           | A `double` indicating the total playback length of the media in seconds. Defaults to `-1` if no media has been loaded. If the media is being streamed live then the duration is equal to `Infinity`.                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `number`                             | `undefined` |
| `buffered` _(readonly)_           | The length of the media in seconds (`double`) that has been downloaded by the browser.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | `number`                             | `undefined` |
| `isBuffering` _(readonly)_        | Whether playback has temporarily stopped because of a lack of temporary data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `boolean`                            | `undefined` |
| `isPlaying` _(readonly)_          | Whether media is actively playing back. Defaults to `false` if no media has loaded or playback has not started.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `boolean`                            | `undefined` |
| `hasPlaybackStarted` _(readonly)_ | Whether the media playback has started. In other words it will be true if `currentTime > 0`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `boolean`                            | `undefined` |
| `hasPlaybackEnded` _(readonly)_   | Whether media playback has reached the end. In other words it'll be true if `currentTime === duration`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `boolean`                            | `undefined` |
| `isPlaybackReady` _(readonly)_    | Whether media is ready for playback to begin, analgous with `canPlayThrough`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `boolean`                            | `undefined` |

## Methods

| Method                       | Description                                                                                                                                                                                             | Signature                                       |
| ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------- |
| `play`                       | Begins/resumes playback of the media. If this method is called programmatically before the user has interacted with the player, the promise may be rejected subject to the browser's autoplay policies. | `() => Promise<void>`                           |
| `pause`                      | Pauses playback of the media.                                                                                                                                                                           | `() => Promise<void>`                           |
| `canPlayType`                | Determines if the connected media provider can play the given `type`. The `type` is generally the media resource identifier, URL or MIME type (optional Codecs parameter).                              | `(type: string) => boolean`                     |
| `getRequestQueue`            | Returns a clone of the current request queue for testing and/or debugging purposes.                                                                                                                     | `() => Map<string, () => void ∣ Promise<void>>` |
| `waitForRequestQueueToFlush` | Waits for the current request queue to be flushed.                                                                                                                                                      | `() => Promise<void>`                           |

## Events

| Event                   | Description                                                                | Type                        |
| ----------------------- | -------------------------------------------------------------------------- | --------------------------- |
| `vds-play`              | Emitted when playback attempts to start.                                   | `VdsCustomEvent<void>`      |
| `vds-pause`             | Emitted when playback pauses.                                              | `VdsCustomEvent<void>`      |
| `vds-playing`           | Emitted when playback being playback.                                      | `VdsCustomEvent<void>`      |
| `vds-src-change`        | Emitted when the current src changes.                                      | `VdsCustomEvent<string>`    |
| `vds-poster-change`     | Emitted when the current poster changes.                                   | `VdsCustomEvent<string>`    |
| `vds-muted-change`      | Emitted when the muted state of the current provider changes.              | `VdsCustomEvent<boolean>`   |
| `vds-volume-change`     | Emitted when the volume state of the current provider changes.             | `VdsCustomEvent<number>`    |
| `vds-time-change`       | Emitted when the current playback time changes.                            | `VdsCustomEvent<number>`    |
| `vds-duration-change`   | Emitted when the length of the media changes.                              | `VdsCustomEvent<number>`    |
| `vds-buffered-change`   | Emitted when the length of the media downloaded changes.                   | `VdsCustomEvent<number>`    |
| `vds-buffering-change`  | Emitted when playback resumes/stops due to lack of data.                   | `VdsCustomEvent<boolean>`   |
| `vds-view-type-change`  | Emitted when the view type of the current provider/media changes.          | `VdsCustomEvent<ViewType>`  |
| `vds-media-type-change` | Emitted when the media type of the current provider/media changes.         | `VdsCustomEvent<MediaType>` |
| `vds-playback-ready`    | Emitted when playback is ready to start - analgous with `canPlayThrough`.  | `VdsCustomEvent<void>`      |
| `vds-playback-start`    | Emitted when playback has started (`currentTime > 0`).                     | `VdsCustomEvent<void>`      |
| `vds-playback-end`      | Emitted when playback ends (`currentTime === duration`).                   | `VdsCustomEvent<void>`      |
| `vds-error`             | Emitted when a provider encounters an error during media loading/playback. | `VdsCustomEvent<unknown>`   |

## Slots

| Slot | Description                             |
| ---- | --------------------------------------- |
|      | Used to pass in Provider/UI components. |

## CSS Custom Properties

| Name                       | Description                                                                  |
| -------------------------- | ---------------------------------------------------------------------------- |
| `--vds-player-font-family` | A custom font family to be used throughout the player.                       |
| `--vds-player-bg`          | The background color of the player.                                          |
| `--vds-blocker-z-index`    | The provider UI blocker position in the root z-axis stack inside the player. |

## CSS Parts

| Name     | Description                |
| -------- | -------------------------- |
| `player` | The root player container. |
